(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a.n(i),n=a(7),c=a.n(n),l=(a(12),a(2)),h=a(4),r=a(5);var o,d,m,u=function(){function e(t,a,i,s,n,c){Object(h.a)(this,e),this.x=t,this.y=a,this.symbol=i,this.color=s,this.gray=n/255,this.res=c*this.gray}return Object(r.a)(e,[{key:"draw",value:function(e,t){var a=this.color;e.fillStyle=a,e.font="".concat(t,"px monospace"),e.fillText(this.symbol,this.x,this.y)}},{key:"drawRect",value:function(e){e.fillStyle="white",e.fillRect(this.x,this.y,this.res,this.res)}}]),e}(),j=function(){function e(t,a,i){Object(h.a)(this,e),this.img=t,this.canvas=a,this.ctx=i,this.imageCell=[],this.resizeImage(this.img,this.canvas),i.drawImage(t,0,0,a.width,a.height),this.pixels=i.getImageData(0,0,a.width,a.height)}return Object(r.a)(e,[{key:"resizeImage",value:function(e,t){window.innerHeight>window.innerWidth?(t.width=.8*window.innerWidth,e.height>e.width?(t.height=.6*window.innerHeight,t.width=e.width/e.height*t.height):t.height=e.height/e.width*t.width):(t.width=.4*window.innerWidth,e.height>e.width?(t.height=.8*window.innerHeight,t.width=e.width/e.height*t.height):t.height=e.height/e.width*t.width)}},{key:"convertToSymbol",value:function(e){return e>250?"@":e<250&&e>220?"#":e<220&&e>190?"a":e<190&&e>160?"n":e<160&&e>130?"&":e<130&&e>100?"^":e<100&&e>70?"*":"."}},{key:"scanImage",value:function(e){for(var t=0;t<this.pixels.height;t+=e)for(var a=0;a<this.pixels.width;a+=e){var i=4*(t*this.pixels.width+a),s=this.pixels.data[i],n=this.pixels.data[i+1],c=this.pixels.data[i+2],l=(s+n+c)/3,h="rgb(".concat(s,",").concat(n,",").concat(c,")"),r=this.convertToSymbol(l);this.imageCell.push(new u(a,t,r,h,l,e))}}},{key:"makeGray",value:function(e,t,a){this.resizeImage(this.img,e),t.drawImage(this.img,0,0,e.width,e.height);for(var i=0;i<this.pixels.height;i+=a)for(var s=0;s<this.pixels.width;s+=a){var n=4*(i*this.pixels.width+s),c=(this.pixels.data[n]+this.pixels.data[n+1]+this.pixels.data[n+2])/3;this.pixels.data[n]=c,this.pixels.data[n+1]=c,this.pixels.data[n+2]=c}t.putImageData(this.pixels,0,0)}},{key:"toAscii",value:function(e,t,a){this.scanImage(a),this.resizeImage(this.img,e),t.fillStyle="black",t.fillRect(0,0,e.width,e.height);for(var i=0;i<this.imageCell.length;i++)this.imageCell[i].draw(t,a)}},{key:"toRect",value:function(e,t,a){this.scanImage(a),this.resizeImage(this.img,e),t.fillStyle="black",t.fillRect(0,0,e.width,e.height);for(var i=0;i<this.imageCell.length;i++)this.imageCell[i].drawRect(t)}}]),e}(),g=(a(13),a(14),a.p+"static/media/Earth_nasa.f1d69829.jpg"),b=a(6),f=a(0);var p=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(i.useState)(10),c=Object(l.a)(n,2),h=c[0],r=c[1],u=Object(i.useState)(null),p=Object(l.a)(u,2),x=p[0],O=p[1],v=Object(i.useState)(null),w=Object(l.a)(v,2),_=w[0],y=w[1],z=Object(i.useState)(10),S=Object(l.a)(z,2),N=S[0],k=S[1],I=Object(i.useState)(g),C=Object(l.a)(I,2),R=C[0],E=C[1],L=Object(i.useState)([]),U=Object(l.a)(L,2),A=(U[0],U[1]),D=Object(i.useState)(!1),P=Object(l.a)(D,2),T=P[0],H=P[1],W=Object(i.useState)(),M=Object(l.a)(W,2),q=M[0],B=M[1],G=Object(i.useState)(),J=Object(l.a)(G,2),F=J[0],K=J[1],Q=Object(i.useRef)(null),V=Object(i.useRef)(null),X=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=document.createElement("script");e.text='amzn_assoc_placement = "adunit0";\n    amzn_assoc_tracking_id = "artgene-20";\n    amzn_assoc_ad_mode = "search";\n    amzn_assoc_ad_type = "smart";\n    amzn_assoc_marketplace = "amazon";\n    amzn_assoc_region = "US";\n    amzn_assoc_default_search_phrase = "kindle";\n    amzn_assoc_default_category = "All";\n    amzn_assoc_search_bar = "true";\n    amzn_assoc_search_bar_position = "top";\n    amzn_assoc_title = "Shop Related Products";';var t=document.createElement("script");t.src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US",t.async=!1;var a=document.createElement("script");a.src="//z-na.amazon-adsystem.com/widgets/onejs?\n    MarketPlace=US&adInstanceId=210098ba-89c6-4bce-8352-12674d905b76",a.async=!0;var i=document.querySelector("#amzn_assoc_ad_div_assoc_banner_placement_default_0"),s=document.querySelector(".ads");i&&(i.appendChild(e),i.appendChild(t),s.appendChild(a))}),[]),Object(i.useEffect)((function(){H(!0);var e=new Image;!function(e,t){var a,i=new Image;i.crossOrigin="Anonymous",i.src=e,console.log(i),i.onload=function(){var e=document.createElement("canvas"),i=e.getContext("2d");e.height=this.naturalHeight,e.width=this.naturalWidth,console.log(this),i.drawImage(this,0,0),a=e.toDataURL("image/jpeg"),t(a)}}(R,(function(t){e.src=t})),e.onload=function(){return s(e)},H(!1)}),[R]),Object(i.useEffect)((function(){if(a&&Q){H(!0);var e=Q.current.getContext("2d");o=V.current.getContext("2d"),d=X.current.getContext("2d"),(m=new j(a,Q.current,e)).toAscii(V.current,o,h),m.toRect(X.current,d,h),A(m.imageCell),m.img.width/m.img.height;var t=V.current.toDataURL(),i=X.current.toDataURL();B(t),K(i),H(!1)}}),[a,h]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"logo",children:"GenArt."}),Object(f.jsxs)("div",{className:"flex",children:[T?Object(f.jsx)("h1",{children:"loading"}):Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("canvas",{ref:Q,className:"canvas"})}),Object(f.jsxs)("div",{className:"ads",children:[Object(f.jsx)("div",{id:"amzn_assoc_ad_div_assoc_banner_placement_default_0"}),Object(f.jsx)("div",{id:"amzn-assoc-ad-210098ba-89c6-4bce-8352-12674d905b76"})]}),Object(f.jsxs)("div",{className:"barBox",children:[Object(f.jsxs)("div",{className:"fileContainer",children:[Object(f.jsx)("input",{className:"file",id:"file",type:"file",accept:"image/png, image/jpeg",onChange:function(e){var t=new FileReader;null==e.target.files[0]||(y(e.target.files[0].name),t.readAsDataURL(e.target.files[0]),t.onloadend=function(){O(t.result)})}}),Object(f.jsx)("label",{className:"fileLabel",for:"file",children:"choose image"}),_?Object(f.jsx)("p",{className:"title",children:_}):""]}),Object(f.jsx)("div",{className:"2",children:Object(f.jsx)("input",{step:"2",className:"",type:"range",min:"5",max:"30",onChange:function(e){k(e.target.value)}})}),Object(f.jsx)("div",{className:"3",children:Object(f.jsx)("button",{className:"btn",type:"button",onClick:function(){E(x),console.log(V.current),r(parseInt(N))},children:"set it"})})]}),T?Object(f.jsx)("h1",{children:"loading"}):Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsx)("canvas",{ref:V,className:"canvas"}),Object(f.jsx)("a",{href:q,download:"".concat(_,"ascii.png"),className:"btn2 TopLeftParent",type:"button",children:Object(f.jsx)(b.a,{})})]})}),T?Object(f.jsx)("h1",{children:"loading"}):Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsx)("canvas",{ref:X,className:"canvas"}),Object(f.jsx)("a",{href:F,download:"".concat(_,"grid.png"),className:"btn2 TopLeftParent",type:"button",children:Object(f.jsx)(b.a,{})})]})})]})]})};c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(p,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.39a83b5b.chunk.js.map